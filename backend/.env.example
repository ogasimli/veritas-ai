# ==============================================================================
# Veritas AI Backend Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values
# Required variables are marked with [REQUIRED]
# Optional variables have sensible defaults

# ==============================================================================
# Database Configuration
# ==============================================================================

# [REQUIRED] PostgreSQL connection string using asyncpg driver
# Format: postgresql+asyncpg://user:password@host:port/database
# For local development with Docker Compose:
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/veritas

# For production (Cloud SQL or managed PostgreSQL):
# DATABASE_URL=postgresql+asyncpg://user:password@/veritas?host=/cloudsql/project:region:instance

# ==============================================================================
# Google Cloud Storage
# ==============================================================================

# [OPTIONAL] Google Cloud Storage bucket name for document storage
# Leave empty to disable GCS integration (documents won't be persisted)
# For local development, you can leave this empty or use a test bucket
GCS_BUCKET=

# For production:
# GCS_BUCKET=veritas-ai-documents

# Note: GCS authentication is handled automatically via:
#   - Local: gcloud auth application-default login
#   - Production: Cloud Run service account with Storage Object Admin role

# ==============================================================================
# Application Configuration
# ==============================================================================

# [OPTIONAL] Enable debug mode for verbose logging
# Set to true for development, false for production
DEBUG=false

# [OPTIONAL] Use dummy agent responses for frontend testing
# Set to true to bypass the multi-agent system and return mock audit results
# Useful for frontend development without waiting for real agent execution
USE_DUMMY_AGENTS=false

# ==============================================================================
# CORS Configuration
# ==============================================================================

# [OPTIONAL] Allowed origins for CORS (comma-separated)
# Default: All origins allowed (*)
# For production, specify your frontend domain:
# ALLOWED_ORIGINS=https://veritas-ai.com,https://www.veritas-ai.com

# ==============================================================================
# Agent Integration
# ==============================================================================

# The backend automatically integrates with the agent system via the
# veritas-ai-agent package (installed from ./agents directory)
#
# Agent-specific configuration should be set in backend/agents/.env
# See backend/agents/.env.example for agent environment variables

# ==============================================================================
# Production Deployment Notes
# ==============================================================================

# When deploying to Cloud Run, set these environment variables:
# 1. DATABASE_URL - Connection string for Cloud SQL or managed PostgreSQL
# 2. GCS_BUCKET - Production GCS bucket name
# 3. DEBUG - Set to false
# 4. USE_DUMMY_AGENTS - Set to false
#
# Service account permissions required:
# - Cloud SQL Client (for database access)
# - Storage Object Admin (for GCS bucket access)
